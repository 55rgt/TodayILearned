### 클래스 구성을 위한 부속품

```ecmascript 6
/** on, fire 메서드와 이벤트 목록을 관리하는 private 속성의 registry를 객체에 추가하는 함수 */
var eventuality = function (that) {
    
    var registry = {};
    
    that.fire = function (event) {
    
        var array,
            func,
            handler,
            i,
            type = typeof event === 'string' ? event : event.type;
    
        if (registry.hasOwnProperty(type)) {
            array = registry[type];
            for (i = 0; i < array.length; i++) {
                handler = array[i];
                func = handler.method;
                if (typeof func === 'string') func = this[func];
                func.apply(this, handler.parameters || [event]);
            }
        }
        return this;
    };
    
    that.on = function (type, method, params) {
    
        var handler = {
            method: method,
            params: params,
        };
    
        if (registry.hasOwnProperty(type)) {
            registry[type].push(handler);
        } else {
            registry[type] = [handler];
        }
        return this;
    };
    return that;
};

```